<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Prof. Kojo Fosu - African Art Legacy</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #0b0b0b, #1a1a1a);
      color: #f0f0f0;
      line-height: 1.6;
      overflow-x: hidden;
    }
    header {
      position: relative;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: linear-gradient(to bottom, rgba(17, 17, 17, 0.9), rgba(34, 34, 34, 0.8)), url('IMG_5117.jpeg') no-repeat center/cover;
      text-align: center;
      padding: 0 20px;
      animation: fadeIn 2s ease-in;
    }
    header h1 {
      font-size: 4em;
      color: #ffcc00;
      text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
      animation: slideUp 1s ease-out;
    }
    header p {
      font-size: 1.5em;
      margin-top: 15px;
      color: #ddd;
      max-width: 600px;
      animation: slideUp 1.5s ease-out;
    }
    .section {
      max-width: 1100px;
      margin: 60px auto;
      padding: 0 30px;
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.8s ease-out;
    }
    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .section h2 {
      color: #ffcc00;
      font-size: 2.2em;
      border-bottom: 3px solid #ffcc00;
      padding-bottom: 10px;
      margin-bottom: 25px;
    }
    .section p, .section ul {
      font-size: 1.1em;
    }
    ul {
      list-style: none;
      padding-left: 0;
    }
    ul li {
      position: relative;
      padding-left: 25px;
      margin-bottom: 15px;
    }
    ul li:before {
      content: '▹';
      color: #ffcc00;
      position: absolute;
      left: 0;
      top: 2px;
    }

    /* Bookshelf Styles */
    .bookshelf {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-top: 20px;
    }
    .book {
      background: #222;
      padding: 20px;
      border-radius: 10px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    .book:hover {
      transform: translateY(-10px);
      box-shadow: 0 6px 15px rgba(255, 204, 0, 0.4);
    }
    .book img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 5px;
      margin-bottom: 15px;
    }
    .book h3 {
      color: #ffcc00;
      font-size: 1.2em;
      margin-bottom: 10px;
    }
    .book p {
      font-size: 0.95em;
      color: #ddd;
    }
    .book .pdf-btn {
      display: inline-block;
      padding: 8px 15px;
      margin-top: 10px;
      background: #ffcc00;
      color: #111;
      text-decoration: none;
      font-weight: 700;
      border-radius: 5px;
      transition: all 0.3s ease;
    }
    .book .pdf-btn:hover {
      background: #e6b800;
      transform: scale(1.05);
    }

    /* Improved PDF Preview Styles */
    .pdf-preview {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90vw;
      height: 90vh;
      min-height: 500px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      z-index: 1000;
      padding: 20px;
      overflow: hidden;
    }
    .pdf-preview iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    .pdf-preview-close {
      position: absolute;
      top: 15px;
      right: 15px;
      color: #ffcc00;
      font-size: 2em;
      cursor: pointer;
      z-index: 1001;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 50%;
      padding: 5px 10px;
      transition: color 0.3s ease;
    }
    .pdf-preview-close:hover {
      color: #e6b800;
    }

    /* Modern Photo Album Styles */
    .gallery {
      display: none; /* Hide the original grid gallery */
    }
    
    /* 3D Carousel Styles */
    .carousel-container {
      position: relative;
      width: 100%;
      height: 500px;
      perspective: 1000px;
      margin: 40px auto;
      overflow: hidden;
    }
    
    .carousel {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: transform;
    }
    
    .carousel-item {
      position: absolute;
      width: 300px;
      height: 400px;
      left: 50%;
      top: 50%;
      transform-style: preserve-3d;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      backface-visibility: hidden;
      transform-origin: center center;
    }
    
    .carousel-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
      transition: all 0.3s ease;
      background: #222;
    }
    
    .carousel-item.loading img {
      opacity: 0.5;
      filter: blur(2px);
    }
    
    .carousel-item.error img {
      display: none;
    }
    
    .carousel-item .loading-spinner {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 40px;
      height: 40px;
      border: 3px solid rgba(255, 204, 0, 0.3);
      border-radius: 50%;
      border-top-color: #ffcc00;
      animation: spin 1s linear infinite;
    }
    
    .carousel-item.loading .loading-spinner {
      display: block;
    }
    
    .carousel-item .error-message {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #ffcc00;
      text-align: center;
      padding: 20px;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 10px;
    }
    
    .carousel-item.error .error-message {
      display: block;
    }
    
    @keyframes spin {
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }
    
    .carousel-item:hover img {
      transform: scale(1.05);
      box-shadow: 0 8px 30px rgba(255, 204, 0, 0.4);
    }
    
    .carousel-caption {
      position: absolute;
      bottom: -30px;
      left: 0;
      width: 100%;
      text-align: center;
      color: #ffcc00;
      font-size: 1.1em;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.3s ease;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }
    
    .carousel-item:hover .carousel-caption {
      opacity: 1;
      transform: translateY(0);
    }
    
    .carousel-nav {
      position: absolute;
      bottom: -60px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 10;
    }
    
    .carousel-nav button {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #ffcc00;
      border: none;
      color: #111;
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .carousel-nav button:hover {
      background: #e6b800;
      transform: scale(1.1);
    }
    
    .carousel-nav button.active {
      background: #e6b800;
      transform: scale(1.1);
    }
    
    .carousel-prev, .carousel-next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 50px;
      height: 50px;
      background: rgba(255, 204, 0, 0.8);
      border: none;
      border-radius: 50%;
      color: #111;
      font-size: 1.5em;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .carousel-prev {
      left: 20px;
    }
    
    .carousel-next {
      right: 20px;
    }
    
    .carousel-prev:hover, .carousel-next:hover {
      background: #ffcc00;
      transform: translateY(-50%) scale(1.1);
    }
    
    .carousel-prev:disabled, .carousel-next:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    @media (max-width: 768px) {
      .carousel-container {
        height: 400px;
      }
      
      .carousel-item {
        width: 250px;
        height: 350px;
      }
      
      .carousel-prev, .carousel-next {
        width: 40px;
        height: 40px;
        font-size: 1.2em;
      }
      
      .carousel-nav {
        bottom: -50px;
      }
      
      .carousel-nav button {
        width: 30px;
        height: 30px;
        font-size: 1em;
      }
    }
    
    @media (max-width: 480px) {
      .carousel-container {
        height: 300px;
      }
      
      .carousel-item {
        width: 200px;
        height: 280px;
      }
      
      .carousel-prev, .carousel-next {
        width: 35px;
        height: 35px;
        font-size: 1em;
      }
      
      .carousel-nav {
        bottom: -40px;
      }
      
      .carousel-nav button {
        width: 25px;
        height: 25px;
        font-size: 0.8em;
      }
    }

    .quotes-section {
      text-align: center;
    }
    .quote-display {
      font-size: 1.3em;
      color: #ddd;
      margin: 20px 0;
      font-style: italic;
      min-height: 50px;
    }
    .quote-btn {
      padding: 10px 20px;
      font-size: 1em;
      color: #111;
      background: #ffcc00;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .quote-btn:hover {
      background: #e6b800;
      transform: scale(1.05);
    }
    .museum-cta {
      text-align: center;
      padding: 40px 20px;
      background: #222;
      border-top: 1px solid #ffcc00;
      border-bottom: 1px solid #ffcc00;
    }
    .museum-btn {
      display: inline-block;
      padding: 15px 40px;
      font-size: 1.2em;
      font-weight: 700;
      color: #111;
      background: #ffcc00;
      border: none;
      border-radius: 5px;
      text-decoration: none;
      text-transform: uppercase;
      transition: all 0.3s ease;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(255, 204, 0, 0.3);
    }
    .museum-btn:hover {
      background: #e6b800;
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(255, 204, 0, 0.5);
    }
    footer {
      text-align: center;
      padding: 50px 20px;
      background: #111;
      color: #888;
      font-size: 1em;
      position: relative;
    }
    footer:before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      width: 100px;
      height: 2px;
      background: #ffcc00;
      transform: translateX(-50%);
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    @keyframes zoomIn {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    @media (max-width: 768px) {
      header h1 { font-size: 2.5em; }
      header p { font-size: 1.2em; }
      .section h2 { font-size: 1.8em; }
      .section p, .section ul { font-size: 1em; }
      .book { width: 100%; }
      .gallery-item img { height: 150px; }
      .pdf-preview {
        width: 95vw;
        height: 80vh;
        min-height: 400px;
        padding: 15px;
      }
    }
    @media (max-width: 480px) {
      header h1 { font-size: 2em; }
      header p { font-size: 1em; }
      .section { padding: 0 15px; }
      .museum-btn { font-size: 0.9em; padding: 10px 25px; }
      .quote-display { font-size: 1.1em; }
      .book { width: 100%; }
      .pdf-preview {
        width: 98vw;
        height: 70vh;
        min-height: 350px;
        padding: 10px;
      }
      .pdf-preview-close {
        top: 10px;
        right: 10px;
        font-size: 1.5em;
      }
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      justify-content: center;
      align-items: center;
      z-index: 2000;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .modal.show {
      display: flex;
      opacity: 1;
    }
    
    .modal img {
      max-width: 90%;
      max-height: 90vh;
      border-radius: 10px;
      box-shadow: 0 0 30px rgba(255, 204, 0, 0.3);
      transform: scale(0.8);
      transition: transform 0.3s ease;
    }
    
    .modal.show img {
      transform: scale(1);
    }
    
    .modal-close {
      position: absolute;
      top: 20px;
      right: 30px;
      color: #ffcc00;
      font-size: 2.5em;
      cursor: pointer;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    
    .modal-close:hover {
      background: rgba(255, 204, 0, 0.2);
      transform: scale(1.1);
    }
    
    .modal-caption {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: #ffcc00;
      font-size: 1.2em;
      text-align: center;
      background: rgba(0, 0, 0, 0.7);
      padding: 10px 20px;
      border-radius: 5px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .modal.show .modal-caption {
      opacity: 1;
    }
  </style>
</head>
<body>
  <header>
    <h1>Prof. Kojo Fosu</h1>
    <p>Pioneer of African Art Studies | Historian | Educator | Cultural Visionary</p>
  </header>

  <div class="section">
    <h2>Biography</h2>
    <p>Prof. Kojo Fosu was a trailblazing Ghanaian art historian whose groundbreaking work redefined the global perception of African art. With decades of research, teaching, and cultural leadership, he bridged traditional and modern African aesthetics, leaving an indelible mark on the academic and artistic world.</p>
  </div>

  <div class="section">
    <h2>Published Works</h2>
    <ul>
      <li><strong>Books:</strong> Authored 4 seminal works, including <em>20th Century Art of Africa</em> (1986, revised 1993) and <em>Traditional Art of Ghana</em> (1994)</li>
      <li><strong>Journals:</strong> Published 12 peer-reviewed articles exploring African cultural expression</li>
      <li><strong>Catalogues:</strong> Created 30 exhibition catalogues preserving African visual heritage</li>
    </ul>
  </div>

  <div class="section">
    <h2>Seminars & Lectures</h2>
    <ul>
      <li>Presented 12 scholarly papers at international seminars across the USA, Europe, and Africa</li>
      <li>Delivered 20 captivating lectures at prestigious global institutions</li>
    </ul>
  </div>

  <div class="section">
    <h2>Curatorial Work</h2>
    <ul>
      <li>Curated 15 transformative art exhibitions in the USA, Ghana, and Nigeria</li>
      <li>Produced and hosted 5 acclaimed TV series on African Arts & Culture (Channel 9, Washington DC, 1974–1976)</li>
    </ul>
  </div>

  <div class="section">
    <h2>Legacy</h2>
    <p>Prof. Kojo Fosu's tireless efforts elevated African art from marginalization to a celebrated field of study. His scholarship inspired generations of artists, historians, and educators, cementing his status as a cultural icon whose influence resonates in galleries, universities, and communities worldwide.</p>
  </div>

  <div class="section">
    <h2>Innovative Initiatives</h2>
    <ul>
      <li><strong>Computer Center (Early 2000s):</strong> Opened a computer center with internet access in Nsaba, Ghana, pioneering digital access in the community.</li>
      <li><strong>Nsaba Science Foundation for Girl Child Education:</strong> Established a foundation to promote STEM education for girls, empowering future leaders.</li>
    </ul>
  </div>

  <div class="section">
    <h2>Bookshelf</h2>
    <div class="bookshelf">
      <div class="book" data-pdf="https://example.com/pdfs/20th-century-art-of-africa.pdf">
        <img src="IMG_5122.jpeg" alt="20th Century Art of Africa Cover">
        <h3>20th Century Art of Africa</h3>
        <p>1986, revised 1993 - A seminal work on African art in the modern era.</p>
        <a href="#" class="pdf-btn" onclick="showPDF(event, 'https://example.com/pdfs/20th-century-art-of-africa.pdf')">Scan PDF</a>
      </div>
      <div class="book" data-pdf="https://example.com/pdfs/traditional-art-of-ghana.pdf">
        <img src="book2_cover.jpg" alt="Traditional Art of Ghana Cover">
        <h3>Traditional Art of Ghana</h3>
        <p>1994 - A comprehensive study of Ghanaian artistic traditions.</p>
        <a href="#" class="pdf-btn" onclick="showPDF(event, 'https://example.com/pdfs/traditional-art-of-ghana.pdf')">Scan PDF</a>
      </div>
      <div class="book" data-pdf="https://example.com/pdfs/journals.pdf">
        <img src="journals_cover.jpg" alt="Journals Cover">
        <h3>Journals</h3>
        <p>12 peer-reviewed articles exploring African cultural expression.</p>
        <a href="#" class="pdf-btn" onclick="showPDF(event, 'https://example.com/pdfs/journals.pdf')">Scan PDF</a>
      </div>
      <div class="book" data-pdf="https://example.com/pdfs/catalogues.pdf">
        <img src="catalogues_cover.jpg" alt="Catalogues Cover">
        <h3>Catalogues</h3>
        <p>30 exhibition catalogues preserving African visual heritage.</p>
        <a href="#" class="pdf-btn" onclick="showPDF(event, 'https://example.com/pdfs/catalogues.pdf')">Scan PDF</a>
      </div>
      <div class="book" data-pdf="FW77855.pdf">
        <img src="IMG_5123.jpeg" alt="Books">
        <h3>Books</h3>
        <p>Children's Songs for Games from Africa.</p>
        <a href="#" class="pdf-btn" onclick="showPDF(event, 'FW77855.pdf')">Scan PDF</a>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Prof. Kojo Fosu Quotes</h2>
    <div class="quotes-section">
      <div class="quote-display" id="quoteDisplay">"Click 'Begin Wise Sayings' to start."</div>
      <button class="quote-btn" id="quoteBtn">Begin Wise Sayings</button>
    </div>
  </div>

  <div class="section">
    <h2>Photo Album - In Memory</h2>
    <div class="carousel-container">
      <div class="carousel">
        <!-- Carousel items will be dynamically added here -->
      </div>
      <button class="carousel-prev">❮</button>
      <button class="carousel-next">❯</button>
      <div class="carousel-nav">
        <!-- Navigation dots will be dynamically added here -->
      </div>
    </div>
  </div>

  <div class="museum-cta">
    <a href="https://onetwo346.github.io" class="museum-btn">Enter Afrisu Art Museum</a>
  </div>

  <footer>
    Crafted with pride by Kofi Fosu (Cosmos Coderr) | Honoring a Legendary Legacy
  </footer>

  <div class="modal" id="imageModal">
    <span class="modal-close" onclick="closeModal()">×</span>
    <img id="modalImage" src="" alt="Fullscreen Image">
    <div class="modal-caption" id="modalCaption"></div>
  </div>

  <div class="pdf-preview" id="pdfPreview">
    <span class="pdf-preview-close" onclick="closePDF()">×</span>
    <iframe id="pdfIframe" src=""></iframe>
  </div>

  <script>
    // Scroll animation for sections
    const sections = document.querySelectorAll('.section');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.2 });
    sections.forEach(section => observer.observe(section));

    // PDF Preview (Scanning) Functionality
    function showPDF(event, pdfUrl) {
      event.preventDefault();
      const pdfPreview = document.getElementById('pdfPreview');
      const pdfIframe = document.getElementById('pdfIframe');
      pdfIframe.src = pdfUrl;
      pdfPreview.style.display = 'block';
    }

    function closePDF() {
      const pdfPreview = document.getElementById('pdfPreview');
      pdfPreview.style.display = 'none';
      document.getElementById('pdfIframe').src = '';
    }

    // Photo Album Modal Functionality
    const galleryItems = document.querySelectorAll('.gallery-item');
    const modal = document.getElementById('imageModal');
    const modalImage = document.getElementById('modalImage');
    const modalCaption = document.getElementById('modalCaption');

    galleryItems.forEach(item => {
      item.addEventListener('click', () => {
        const img = item.querySelector('img');
        if (!img.classList.contains('error')) { // Only open modal if image is not broken
          showModal(img.src, img.alt);
        }
      });
    });

    function showModal(imgSrc, caption) {
      modalImage.src = imgSrc;
      modalImage.alt = caption;
      modalCaption.textContent = caption;
      modal.classList.add('show');
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      modal.classList.remove('show');
      document.body.style.overflow = '';
    }

    modal.addEventListener('click', (e) => {
      if (e.target === modal) closeModal();
    });

    // Quotes Functionality
    const quotes = [
      "Wo tsi yɛ cocoa dua – Your brain is a cocoa tree that grows as long as you feed it with what it needs.",
      "The past is a canvas; paint it with lessons for the future.",
      "Art is the heartbeat of a culture, pulsing through time.",
      "Wisdom is the root, knowledge the branches – nurture both.",
      "A people without history are like a tree without roots.",
      "Every stroke of the artist's hand tells a story of the soul.",
      "To understand art is to listen to the whispers of ancestors.",
      "Growth comes to those who plant seeds in fertile minds.",
      "The beauty of Africa lies in its unyielding spirit.",
      "Education is the key that unlocks the treasure of heritage.",
      "A mind open to learning is a sky open to stars.",
      "Tradition is not a chain, but a bridge to tomorrow.",
      "Art speaks where words fail.",
      "The wise man builds his house on the rock of culture.",
      "To create is to breathe life into the invisible.",
      "A nation's wealth is measured in its stories, not its gold.",
      "The artist sees what the eyes of others overlook.",
      "Knowledge shared is a flame multiplied.",
      "In every carving lies a lesson, in every color a truth.",
      "The future belongs to those who honor the past."
    ];
    const quoteDisplay = document.getElementById('quoteDisplay');
    const quoteBtn = document.getElementById('quoteBtn');
    let intervalId = null;

    function shuffleQuotes() {
      const randomIndex = Math.floor(Math.random() * quotes.length);
      quoteDisplay.textContent = quotes[randomIndex];
    }

    quoteBtn.addEventListener('click', () => {
      if (intervalId) {
        clearInterval(intervalId);
        intervalId = null;
        quoteBtn.textContent = 'Begin Wise Sayings';
        quoteDisplay.textContent = "Click 'Begin Wise Sayings' to start.";
      } else {
        shuffleQuotes();
        intervalId = setInterval(shuffleQuotes, 10000);
        quoteBtn.textContent = 'Stop Wise Sayings';
      }
    });

    // 3D Carousel Functionality
    const photos = [
      { src: 'IMG_5136.jpeg', caption: 'At an exhibition' },
      { src: 'IMG_5137.jpeg', caption: 'With dignitaries' },
      { src: 'IMG_5138.jpeg', caption: 'In traditional attire' },
      { src: 'IMG_5139.jpeg', caption: 'With family' },
      { src: 'IMG_5140.jpeg', caption: 'In traditional attire' },
      { src: 'IMG_5141.jpeg', caption: 'With wife' },
      { src: 'IMG_5142.jpeg', caption: 'At a graduation' },
      { src: 'IMG_5144.jpeg', caption: 'At an event' },
      { src: 'IMG_5145.jpeg', caption: 'With students' },
      { src: 'IMG_5146.jpeg', caption: 'At a cultural event' },
      { src: 'IMG_5147.jpeg', caption: 'With family' },
      { src: 'IMG_5148.jpeg', caption: 'At a graduation' },
      { src: 'IMG_5149.jpeg', caption: 'Lecturing' },
      { src: 'IMG_5150.jpeg', caption: 'With colleagues' },
      { src: 'IMG_5151.jpeg', caption: 'At a seminar' },
      { src: 'IMG_5152.jpeg', caption: 'With students' },
      { src: 'IMG_5153.jpeg', caption: 'At an exhibition' },
      { src: 'IMG_5154.jpeg', caption: 'With dignitaries' }
    ];

    const carousel = document.querySelector('.carousel');
    const carouselNav = document.querySelector('.carousel-nav');
    const prevBtn = document.querySelector('.carousel-prev');
    const nextBtn = document.querySelector('.carousel-next');
    let currentIndex = 0;
    let items = [];
    let navDots = [];
    let isAnimating = false;
    let autoRotateInterval = null;

    function createCarousel() {
      photos.forEach((photo, index) => {
        // Create carousel item
        const item = document.createElement('div');
        item.className = 'carousel-item loading';
        item.innerHTML = `
          <img src="${photo.src}" alt="${photo.caption}" onerror="handleImageError(this)">
          <div class="loading-spinner"></div>
          <div class="error-message">Image not available</div>
          <div class="carousel-caption">${photo.caption}</div>
        `;
        carousel.appendChild(item);
        items.push(item);

        // Add click event for modal
        const img = item.querySelector('img');
        img.addEventListener('click', () => {
          if (!item.classList.contains('error')) {
            showModal(photo.src, photo.caption);
          }
        });

        // Create navigation dot
        const dot = document.createElement('button');
        dot.className = 'carousel-dot';
        dot.innerHTML = '●';
        dot.addEventListener('click', () => goToSlide(index));
        carouselNav.appendChild(dot);
        navDots.push(dot);

        // Load image
        img.onload = () => {
          item.classList.remove('loading');
        };
      });

      updateCarousel();
      startAutoRotation();
    }

    function handleImageError(img) {
      const item = img.parentElement;
      item.classList.remove('loading');
      item.classList.add('error');
    }

    function updateCarousel() {
      const angle = 360 / items.length;
      const radius = Math.min(window.innerWidth, 1200) / 2;

      items.forEach((item, index) => {
        const rotation = angle * index;
        const x = Math.sin(rotation * Math.PI / 180) * radius;
        const z = Math.cos(rotation * Math.PI / 180) * radius;
        
        item.style.transform = `
          translateX(${x}px)
          translateZ(${z}px)
          rotateY(${rotation}deg)
        `;
      });

      navDots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentIndex);
      });

      // Update button states
      prevBtn.disabled = isAnimating;
      nextBtn.disabled = isAnimating;
    }

    function goToSlide(index) {
      if (isAnimating) return;
      
      isAnimating = true;
      currentIndex = index;
      const rotation = -360 * (currentIndex / items.length);
      carousel.style.transform = `rotateY(${rotation}deg)`;
      
      // Reset animation state after transition
      setTimeout(() => {
        isAnimating = false;
      }, 1000);
      
      updateCarousel();
    }

    function nextSlide() {
      if (isAnimating) return;
      currentIndex = (currentIndex + 1) % items.length;
      goToSlide(currentIndex);
    }

    function prevSlide() {
      if (isAnimating) return;
      currentIndex = (currentIndex - 1 + items.length) % items.length;
      goToSlide(currentIndex);
    }

    function startAutoRotation() {
      if (autoRotateInterval) clearInterval(autoRotateInterval);
      autoRotateInterval = setInterval(nextSlide, 5000);
    }

    function stopAutoRotation() {
      if (autoRotateInterval) {
        clearInterval(autoRotateInterval);
        autoRotateInterval = null;
      }
    }

    // Initialize carousel
    createCarousel();

    // Add event listeners
    prevBtn.addEventListener('click', prevSlide);
    nextBtn.addEventListener('click', nextSlide);

    // Add keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') prevSlide();
      if (e.key === 'ArrowRight') nextSlide();
    });

    // Add touch swipe support
    let touchStartX = 0;
    let touchEndX = 0;

    carousel.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
      stopAutoRotation();
    });

    carousel.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
      startAutoRotation();
    });

    function handleSwipe() {
      if (isAnimating) return;
      
      const swipeThreshold = 50;
      if (touchEndX < touchStartX - swipeThreshold) {
        nextSlide();
      } else if (touchEndX > touchStartX + swipeThreshold) {
        prevSlide();
      }
    }

    // Pause auto-rotation on hover
    carousel.addEventListener('mouseenter', stopAutoRotation);
    carousel.addEventListener('mouseleave', startAutoRotation);

    // Handle window resize
    let resizeTimeout;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        updateCarousel();
      }, 250);
    });

    // Cleanup on page unload
    window.addEventListener('beforeunload', () => {
      stopAutoRotation();
    });

    // Add keyboard support for modal
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.classList.contains('show')) {
        closeModal();
      }
    });
  </script>
</body>
</html>
